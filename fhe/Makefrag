OBJDIRS     += fhe
FHESRC   := fhe.cc
FHEOBJ   := $(patsubst %.cc,$(OBJDIR)/fhe/%.o,$(FHESRC))

all:    $(OBJDIR)/libfhe.so
$(OBJDIR)/libfhe.so: $(FHEOBJ) $(OBJDIR)/libfhemath.so
	$(CXX) -shared -o $@ $(FHEOBJ) $(LDFLAGS) -lgmpxx -lgmp -lfhemath

	
install: install_fhe

.PHONY: install_fhe
install_fhe: $(OBJDIR)/libfhe.so
	install -m 644 $(OBJDIR)/libfhe.so /usr/lib

# vim: set noexpandtab:
